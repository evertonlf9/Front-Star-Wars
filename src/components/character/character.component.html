<div id="character-component">
    <app-menu></app-menu>
    <div class="container-body">
        <div class="container" *ngIf="!loading">
            <div class="container-header">
                <input matInput id="search" class="input-search" placeholder="Pesquisar um personagem pelo nome" [value]="searchPeople" [(ngModel)]="searchPeople" maxlength="255" (keypress)="handlerKeyPress($event)">
                <div class="btn-search" (click)="handlerClickSearch()">
                    <mat-icon aria-hidden="true">search</mat-icon>
                </div>
                <div class="btn-search" (click)="handlerClickClearSearch()">
                    <mat-icon aria-hidden="true">clear</mat-icon>
                </div>
            </div>
        </div>
        <div class="container" *ngIf="!loading" [hidden]="!data">
            <div class="cards" *ngFor="let item of data; let id = index"> 
                <div class="title">{{item.name}}</div>
                <img class="image" [src]="getImage(item)"/> 
                <div class="details"> 
                    <p class="category__paragraph" *ngFor="let key of dataKeyLabels">
                        <span _ngcontent-c8="" class="characteristics">
                            {{dataLabels[key]}}:
                        </span>
                        {{item[key] === 'unknown' ? '-' : item[key]}}
                    </p>
                    <a (click)="handlerClickMoreInfo(item, id)">Mais informações!</a>
                </div>
                
            </div>        
        </div>
        <div class="container" [hidden]="!data">

            <mat-paginator *ngIf="!loading && totalPages > pageSize"
                #paginator
                (page)="pageEvent = handlerChangePaginate($event)"
                [length]="totalPages"
                [pageSize]="pageSize"
                [pageIndex]="currentPage"
                [showFirstLastButtons]="true"
                [pageSizeOptions]="itensPerPage">            
            </mat-paginator>
        </div>

        <div class="container" *ngIf="data && data.length === 0">
            <div class="not-found-result">
                <span>Nenhum resultado encontrado!</span>
            </div>
        </div>
    </div>
</div>
